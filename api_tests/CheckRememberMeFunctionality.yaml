# ********RoostGPT********

# Test generated by RoostGPT for test lseg-integration using AI Type Azure Open AI and AI Model roostgpt-4-32k
# 
# ROOST_METHOD_HASH=cb0deb2683
# ROOST_METHOD_SIG_HASH=dafd1def42
# 
#    ########## Scenario ##########  
# 
# {
#   background: null,
#   rule: null,
#   scenario: "Check the 'Remember Me' functionality\n" +
#     'Given the application login page is accessed\n' +
#     "And the 'Remember Me' checkbox is selected\n" +
#     "When I send a POST request with valid 'Username' and 'Password'\n" +
#     'Then the response status should be 200\n' +
#     "And cookies should contain 'Username' and 'Password'",
#   title: "Check the 'Remember Me' functionality"
# }
# 

# ********RoostGPT********
config:
  target: "{{ $processEnvironment.API_HOST }}"
  processor: "artillery-plugin-expect"
  plugins:
    expect: {}
  headers:
    Authorization: "{{ $processEnvironment.AUTH_TOKEN }}"
  payload:
    path: "CheckRememberMeFunctionality.csv"
    fields:
      - "Username"
      - "Password"
    skipHeader: true

scenarios:
  - name: "Check the 'Remember Me' functionality"
    flow:
    # GET /login request to access the login page
      - get:
          url: "/login"
          expect:
            - statusCode: 200
          afterResponse: "log"
          think: 1
    # POST /login request to validate login with username and password
      - post:
          url: "/login"
          headers:
            Username: "{{ Username }}"
            Password: "{{ Password }}"
          expect:
            - statusCode: 200
            - hasProperty: "cookies.Username"
            - matchesRegexp:
                source: "cookies.Username"
                regexp: "^\\w+$"
            - hasProperty: "cookies.Password"
            - matchesRegexp:
                source: "cookies.Password"
                regexp: "^\\w+$"
          afterResponse: "log"
          think: 1
